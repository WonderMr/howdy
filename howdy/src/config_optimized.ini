# Оптимизированный конфигурационный файл Howdy
# Версия с улучшенной производительностью и безопасностью

[core]
# Print that face detection is being attempted
detection_notice = false

# Print that face detection has timed out
timeout_notice = true

# Do not print anything when a face verification succeeds
no_confirmation = false

# When a user without a known face model tries to use this script, don't
# show an error but fail silently
suppress_unknown = false

# Disable Howdy in remote shells
abort_if_ssh = true

# Disable Howdy if lid is closed
abort_if_lid_closed = true

# Disable howdy in the PAM
disabled = false

# Use CNN instead of HOG (more accurate but slower)
# Рекомендуется включить для лучшей точности при использовании daemon
use_cnn = true

# Enable optimized daemon mode for faster model loading
use_daemon = true

# Set a workaround to do face and password authentication at the same time
workaround = off

[video]
# The certainty of the detected face belonging to the user
# Более строгое значение для повышенной безопасности
certainty = 2.8

# The number of seconds to search before timing out
# Уменьшено благодаря оптимизациям
timeout = 3

# The path of the device to capture frames from
device_path = none

# Print a warning if the video device is not found
warn_no_device = true

# Scale down the video feed to this maximum height
# Оптимизировано для баланса скорости и точности
max_height = 480

# Set the camera input profile
frame_width = -1
frame_height = -1

# Dark frame threshold
dark_threshold = 60

# Recording plugin (opencv, ffmpeg, pyv4l2)
recording_plugin = opencv

# Video format for ffmpeg
device_format = v4l2

# Force Motion JPEG
force_mjpeg = false

# Manual exposure setting
exposure = -1

# Frame rate
device_fps = -1

# Rotation setting
rotate = 0

# Enable quality-based frame filtering
enable_quality_filtering = true

# Enable adaptive processing based on performance
enable_adaptive_processing = true

# Target FPS for adaptive processing
target_fps = 15

# Minimum acceptable frame quality score (0.0-1.0)
min_quality_score = 0.6

[performance]
# Enable parallel frame processing
parallel_processing = true

# Number of worker threads (0 = auto-detect)
worker_threads = 0

# Enable frame skipping for optimization
adaptive_frame_skip = true

# Enable resolution scaling based on performance
adaptive_resolution = true

# Cache size for frame analysis results
analysis_cache_size = 100

# Enable GPU acceleration if available
enable_gpu_acceleration = false

[security]
# Enable liveness detection to prevent spoofing
liveness_check = true

# Use advanced liveness detection (requires more processing power)
advanced_liveness = false

# Minimum time for liveness confirmation (seconds)
min_liveness_time = 1.5

# Maximum time for liveness detection (seconds)
max_liveness_time = 8.0

# Enable rate limiting to prevent brute force attacks
enable_rate_limiting = true

# Maximum failed attempts before temporary lockout
max_failed_attempts = 5

# Lockout duration in seconds
lockout_duration = 300

# Enable enhanced security logging
enhanced_logging = true

# Log successful authentications
log_successful_attempts = true

# Enable suspicious activity detection
detect_suspicious_activity = true

# Enable model integrity checking
check_model_integrity = true

# Require multiple liveness confirmations
require_multiple_confirmations = false

[snapshots]
# Capture snapshots of failed login attempts
save_failed = true

# Capture snapshots of successful attempts
save_successful = false

# Enhanced snapshot metadata
include_metadata = true

# Snapshot quality (1-100)
snapshot_quality = 85

[rubberstamps]
# Enable additional security checks
enabled = true

# Enhanced rubberstamp rules with better security
stamp_rules =
	nod		3s		failsafe     min_distance=8
	hotkey	5s		faildeadly   abort_key=escape confirm_key=space

[daemon]
# Enable model daemon for faster loading
enabled = true

# Daemon socket path
socket_path = /tmp/howdy_daemon.sock

# Daemon PID file
pid_file = /tmp/howdy_daemon.pid

# Preload models on daemon startup
preload_models = true

# Model cache size (number of users)
model_cache_size = 50

# Enable daemon statistics
collect_statistics = true

# Daemon log level (DEBUG, INFO, WARNING, ERROR)
log_level = INFO

[optimization]
# Enable all optimizations
enable_all = true

# Use optimized comparison algorithm
optimized_comparison = true

# Enable memory optimization
memory_optimization = true

# Enable CPU optimization
cpu_optimization = true

# Profile performance for automatic tuning
auto_tuning = true

# Save performance profiles
save_profiles = true

[debug]
# Show detailed diagnostic report
end_report = false

# Verbose logging from rubberstamps
verbose_stamps = false

# Pass GTK output to terminal
gtk_stdout = false

# Enable performance profiling
performance_profiling = false

# Debug liveness detection
debug_liveness = false

# Debug video processing
debug_video = false

# Debug daemon communication
debug_daemon = false

[experimental]
# Enable experimental features
enabled = false

# Use machine learning for adaptive optimization
ml_optimization = false

# Enable predictive frame processing
predictive_processing = false

# Use advanced computer vision techniques
advanced_cv = false

# Enable biometric fusion (multiple authentication methods)
biometric_fusion = false

[compatibility]
# Fallback to original algorithm if optimizations fail
enable_fallback = true

# Compatibility mode for older systems
legacy_mode = false

# Minimum OpenCV version check
check_opencv_version = true

# Minimum dlib version check  
check_dlib_version = true